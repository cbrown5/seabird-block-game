<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Seabird Foraging Game</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="start-screen" id="start-screen">
        <div class="start-panel">
            <h2>Set Your Scenario</h2>
            <p class="start-description">Adjust the sliders to choose how challenging the waters will be before you begin.</p>

            <label for="port-distance-slider" class="slider-label">
                Port distance from island
                <span id="port-distance-value" class="slider-value">4 tiles</span>
            </label>
            <input type="range" id="port-distance-slider" min="1" max="7" value="4">

            <label for="boat-count-slider" class="slider-label">
                Fishing boats
                <span id="boat-count-value" class="slider-value">2 boats</span>
            </label>
            <input type="range" id="boat-count-slider" min="0" max="5" value="2">

            <div class="start-actions">
                <button id="start-button" class="primary-button">Start Foraging</button>
                <button id="instructions-button" class="secondary-button" type="button">How to Play</button>
            </div>
        </div>
    </div>

    <div class="game-container">
        <header class="game-header">
            <h1>üê¶ Seabird Foraging</h1>
            <div class="phase-indicator">
                <span id="current-phase">Phase 1: Foraging</span>
            </div>
        </header>

        <div class="game-info">
            <div class="stats">
                <div class="stat">
                    <span class="stat-emoji">üêü</span>
                    <span id="fish-count">0/3</span>
                </div>
                <div class="stat" id="timer-display" style="display: none;">
                    <span class="stat-emoji">‚è∞</span>
                    <span id="timer-value">0</span>
                </div>
            </div>
            <div class="nest-info">
                <span id="nest-status"> üèùÔ∏è Empty Nest</span>
            </div>
        </div>

        <div class="game-grid" id="game-grid">
            <!-- Grid cells will be generated by JavaScript -->
        </div>

        <div class="game-controls">
            <div class="instructions" id="instructions">
                Tap arrows to rotate them, then tap a fish to start foraging!
            </div>
        </div>

        <div class="game-overlay" id="game-overlay" style="display: none;">
            <div class="overlay-content">
                <h2 id="overlay-title">Game Over</h2>
                <p id="overlay-message">Your chick didn't get fed in time!</p>
                <div id="overlay-reflection" class="overlay-reflection" hidden>
                    <h3>Reflect on Your Foraging</h3>
                    <ul id="reflection-list"></ul>
                </div>
                <button id="restart-button" onclick="game.restart()">Play Again</button>
            </div>
        </div>
    </div>

    <div class="modal" id="instructions-modal" aria-hidden="true">
        <div class="modal-backdrop" data-close-modal></div>
    <div class="modal-dialog" role="dialog" aria-labelledby="instructions-title" aria-modal="true" tabindex="-1">
            <button class="modal-close" id="instructions-close" type="button" aria-label="Close instructions">√ó</button>
            <h2 id="instructions-title">How to Play</h2>
            <ol class="modal-list">
                <li>Rotate arrows to guide your seabird toward fish.</li>
                <li>Tap a fish to follow the arrows and collect it.</li>
                <li>Gather enough fish to incubate and feed your chick before time runs out.</li>
                <li>Watch for fishing boats competing for the same fish!</li>
            </ol>
            <p class="modal-tip">Tip: Fewer boats and a shorter distance to port make for easier foraging.</p>
        </div>
    </div>

    <script src="game.js"></script>
</body>
</html>